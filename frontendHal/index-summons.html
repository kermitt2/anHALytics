<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  <title>Demo</title>

  <script type="text/javascript" src="lib/jquery/1.7.1/jquery-1.7.1.min.js"></script>

  <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
  <script type="text/javascript" src="lib/bootstrap/js/bootstrap.min.js"></script>  

  <script type="text/javascript" src="lib/linkify/1.0/jquery.linkify-1.0-min.js"></script>  
  
  <link rel="stylesheet" href="lib/jquery-ui-1.8.18.custom/jquery-ui-1.8.18.custom.css">
  <script type="text/javascript" src="lib/jquery-ui-1.8.18.custom/jquery-ui-1.8.18.custom.min.js"></script>

  <script type="text/javascript" src="json/json2.js"></script>
  <script type="text/javascript" src="json/jsonpath-0.8.0.js"></script>

  <script type="text/javascript" src="tapas.facetview.js"></script>
  <script src="lib/CryptoJS/rollups/hmac-sha1.js"></script>
  <script src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
  <script src="lib/CryptoJS/rollups/md5.js"></script>
  <script src="lib/CryptoJS/components/core-min.js"></script>
  <script src="lib/CryptoJS/components/enc-utf16-min.js"></script>
  <script src="lib/CryptoJS/components/enc-base64.js"></script>

  <script type="text/javascript" src="lib/jquery/jquery.base64.min.js"></script>

  <link rel="stylesheet" href="css/facetview.css">

  <script type="text/javascript" src="lib/d3/d3.v2.min.js "></script>

  <!--script type="text/javascript" src="lib/d3/d3.min.js"></script>
  <script type="text/javascript" src="lib/d3/d3.geom.min.js?2.1.3"></script>
  <script type="text/javascript" src="lib/d3/d3.layout.min.js?2.1.3"></script-->

  <script type="text/javascript" src="lib/protovis/protovis-r3.2.js"></script>
  <script type="text/javascript" src="lib/Porter-Stemmer/stemmer.js"></script>

  <script type="text/javascript" src="lib/PopBox.js" ></script>
  <script type="text/javascript">
	popBoxWaitImage.src = "data/images/ajax-loader.gif";
	popBoxRevertImage = "data/images/magminus.gif"; 
	popBoxPopImage = "data/images/magplus.gif";
  </script>

  <script type="text/x-mathjax-config">
	MathJax.Hub.Config({
  		tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
	});
  </script>
  <script type="text/javascript" src="lib/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  <link rel="stylesheet" href="css/style.css">

  <script type="text/javascript">
jQuery(document).ready(function($) {
  $('.facet-view-simple').facetview({
	collection: 'npl',
    search_url: 'http://api.summon.serialssolutions.com/2.0.0/search?',
    search_index: 'summon',
	freetext_submit_delay: "700", // in ms
	scope: "scientific",
	service: "proxy", // access to service can be local or proxy, depending on security requirements
	//service: "local",
	//proxy_host: "http://localhost:8080/proxy",
	proxy_host: "http://localhost:8080/proxy",
    facets: [
		{'field': 'PublicationDate', 'display': 'PublicationDate', 'type':'date', 'view':'graphic','size':10 },
		{'field': 'Discipline', 'display': 'Discipline', 'type':'class', 'size':6, 'view':'graphic'},
		{'field': 'ContentType', 'display': 'ContentType', 'type':'class', 'size':6, 'view':'textual'},
		{'field': 'Language', 'display': 'Language', 'type':'class', 'size':6, 'view':'graphic'},
		{'field': 'SubjectTerms', 'display': 'SubjectTerms', 'type':'class', 'size':10, 'view':'textual'}//,
		//{'field': 'Author', 'display': 'Author', 'type':'class', 'size':6, 'view':'textual'},
		//{'field': 'Genre', 'display': 'Genre', 'type':'class', 'size':6, 'view':'textual'},
		//{'field': 'GeographicLocations', 'display': 'GeographicLocations', 'type':'country', 'size':6, 'view':'textual'},
		//{'field': 'Audience', 'display': 'Audience', 'type':'class', 'size':6, 'view':'textual'}
		
		/*{'field': '$TEI.$teiHeader.$profileDesc.$textClass.$keywords.$type_hal.$list.$item.$term', 'display': 'subject-headers', 'size':20, 'type':'taxonomy', 'view':'graphic'},
		{'field': '$TEI.$teiHeader.$fileDesc.$sourceDesc.$biblStruct.$analytic.$author.$affiliation.$address.key', 'display': 'country', 'size':6, 'type':'country', 'view':'graphic'},
		{'field': '$TEI.$teiHeader.$fileDesc.$sourceDesc.$biblStruct.$analytic.$author.$affiliation.$orgName', 'display': 'Organisation', 'size':6, 'type':'entity', 'view':'graphic'},
		{'field': '$TEI.$teiHeader.$fileDesc.$sourceDesc.$biblStruct.$analytic.$author.$persName.$surname', 'display': 'Author', 'size':6, 'type':'entity', 'view':'graphic'}*/
    ],
    paging: {
	  from: 0,
      size: 10 
    }
// 		
/*,
    predefined_filters: {
        'owner.exact': 'test'
    }*/
  });


  // set up form
  $('.demo-form').submit(function(e) {
    e.preventDefault();
    var $form = $(e.target);
    var _data = {};
    $.each($form.serializeArray(), function(idx, item) {
      _data[item.name] = item.value;
    });
    $('.facet-view-here').facetview(_data);
  });
});
  </script>
</head>

<body>

<div class="container"> 
  <div class="content">
    <div class="page-header">
      <h1>
         <small> test front-end for Summon</small>  <small><span style="position:relative; float:right;"><a href="index-summons.html?mode_query=simple">simple</a> - <a href="index-summons.html?mode_query=complex">advanced</a> - <a href="index-summons.html?mode_query=nl">NL</a></span></small>
      </h1>
    </div>
	
    <!--h3>Simple - Complex - Epoque</h3-->
    <div class="facet-view-simple"></div>

  </div>

  <footer>
  <!--p>Patrice Lopez - 2012 </p-->
  </footer>
</div>
</body>
</html>
